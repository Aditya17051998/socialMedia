{let n=function(){let n=$("#new_post_form");n.submit((function(o){o.preventDefault(),console.log("data come from post controller"),$.ajax({type:"post",url:"posts/create",data:n.serialize(),success:function(n){let o=e(n.data.post);$("#post-container>ul").prepend(o),t($(" .delete_post_button",o))},error:function(n){console.log(n.responseText)}})}))},e=function(n){return console.log("new post dom",n),$(`<li id="post-${n._id}">\n\n    \n            <small>\n                <a class="delete_post_button" href="/posts/destroy/${n._id}">\n                    X\n                </a>\n            </small>\n            ${n.content}\n    \n    \n    \n        \n    \n        <small>${n.user.name}</small>\n        <br>\n                        <small>\n                            \n                                <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${n._id}&type=post">\n                                    0 Likes\n                                </a>\n                            \n                        </small>\n\n        <div class='comment-container'>\n    \n            <form action="comments/create" method="POST">\n                <input type="text" placeholder="write comment..." name='content'>\n                <input type="hidden" name='post' value='${n._id}'>\n                <input type="submit" value="post">\n            \n            </form>\n    \n            \n        </div>\n    </li>`)},t=function(n){$(n).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(n).prop("href"),success:function(n){$("#post-"+n.data.post_id).remove()},error:function(n){console.log(n.responseText)}})}))};n()}